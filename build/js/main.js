var k=Object.defineProperty;var x=(c,e,l)=>e in c?k(c,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):c[e]=l;var g=(c,e,l)=>(x(c,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function l(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=l(t);fetch(t.href,r)}})();function b(c){let e,l,n;for(l=0,n=c.length;l<n;l++)if(e=c.charCodeAt(l),!(e>47&&e<58)&&!(e>64&&e<91)&&!(e>96&&e<123)&&!(e>1039&&e<1104))return!1;return!0}class P{constructor(){g(this,"alphabet",{en:{uppercase:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",lowercase:"abcdefghijklmnopqrstuvwxyz"},ru:{uppercase:"АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ",lowercase:"абвгдеёжзийклмнопрстуфхцчшщъыьэюя"}})}encrypt(e,l,n){let t="";return e.split("").map(r=>{if(console.log(b(r)),b(r)){let a=this.alphabet[n][r.toUpperCase()===r?"uppercase":"lowercase"],s=(a.split("").findIndex(u=>u===r)+ +l)%a.length;t+=a[s]}}),t}decrypt(e,l,n){let t="";return e.split("").map(r=>{if(b(r)){let a=this.alphabet[n][r.toUpperCase()===r?"uppercase":"lowercase"],s=(a.split("").findIndex(u=>u===r)-+l)%a.length;t+=a[s]}}),t}}class O{constructor(){g(this,"alphabet",{en:{uppercase:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",lowercase:"abcdefghijklmnopqrstuvwxyz"},ru:{uppercase:"АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ",lowercase:"абвгдеёжзийклмнопрстуфхцчшщъыьэюя"}})}encrypt(e,l,n="ru"){let t=this.alphabet[n].lowercase,r="";for(let a in e){let s=t.split("").findIndex(f=>f===e[a]),u=t.split("").findIndex(f=>f===l[a%l.length]);r+=t[(s+u+1)%t.length]}return r}decrypt(e,l,n="ru"){let t=this.alphabet[n].lowercase,r="";for(let a in e){let s=t.split("").findIndex(f=>f===e[a]),u=t.split("").findIndex(f=>f===l[a%l.length]);r+=t[(s-u-1)%t.length]}return r}}class R{encrypt(e,l){let n="";for(let t=0;t<e.length;t++){const r=e.charCodeAt(t)^l.charCodeAt(t%l.length);n+=String.fromCharCode(r)}return n}decrypt(e,l){let n="";for(let t=0;t<e.length;t++){const r=e.charCodeAt(t)^l.charCodeAt(t%l.length);n+=String.fromCharCode(r)}return n}}class C{encryptSimple(e,l){let n=this.makeMatrix(e,l),t="";for(let r of n)for(let a in r)t+=r[+l[a]-1];return t}encrypt(e,l){let n=this.makeMatrix(e,l),t="";return this.columnStack(n).map(a=>{a.map(s=>{t+=s})}),t}makeMatrix(e,l){let n=[],t=0;for(let r=0;r<Math.ceil(e.length/l.length);r++){let a=[];for(let s=0;s<l.length;s++){let u=t<e.length?e[t]:" ";a.push(u),t++}n.push(a)}return n}columnStack(e){if(!Array.isArray(e))throw new Error("Input must be an array of arrays");if(!e.every(a=>Array.isArray(a)))throw new Error("All elements must be arrays");if(!e.map(a=>a.length).every((a,s,u)=>a===u[0]))throw new Error("All arrays must have the same length");const r=[];for(let a=0;a<e[0].length;a++){const s=e.map(u=>u[a]);r.push(s)}return r}}const p=document.querySelector("#text"),d=document.querySelector("#result"),E=document.querySelector("#cypher");document.querySelectorAll('[name="type"]');const h=document.querySelector("#shift"),o=document.querySelector("#key"),m=document.querySelectorAll('[name="variant"]'),_=document.querySelector("#action-btn"),w=1,A=2,T=3,S=4,N=5,v=0,I=1;console.log("App js connected...");_.onclick=c=>{let e=document.querySelector('[name="type"]:checked'),l=document.querySelector('[name="variant"]:checked');switch(parseInt(E.value)){case w:const n=new P;parseInt(e.value)===+v?d.value=n.encrypt(p.value,+h.value,l.value):parseInt(e.value)===+I&&(d.value=n.decrypt(p.value,+h.value,l.value));break;case A:const t=new O;parseInt(e.value)===+v?d.value=t.encrypt(p.value,o.value,l.value):parseInt(e.value)===+I&&(d.value=t.decrypt(p.value,o.value,l.value));break;case T:const r=new R;parseInt(e.value)===+v?d.value=r.encrypt(p.value,o.value):parseInt(e.value)===+I&&(d.value=r.decrypt(p.value,o.value));break;case S:const a=new C;(parseInt(e.value)===+v||parseInt(e.value)===+I)&&(d.value=a.encryptSimple(p.value,o.value));break;case N:const s=new C;(parseInt(e.value)===+v||parseInt(e.value)===+I)&&(d.value=s.encrypt(p.value,o.value));break}};E.onchange=c=>{switch(parseInt(c.target.value)){case w:i(o),y(h),y(m[0]);break;case A:i(h),y(o),y(m[0]);break;case T:y(o),i(h),i(m[0]);break;case S:y(o),i(h),i(m[0]);break;case N:y(o),i(h),i(m[0]);break;default:i(o),i(h),i(m[0]);break}};function y(c){c.closest(".block-wrapper").classList.add("inline-block"),c.closest(".block-wrapper").classList.remove("hidden")}function i(c){c.closest(".block-wrapper").classList.add("hidden"),c.closest(".block-wrapper").classList.remove("inline-block")}
